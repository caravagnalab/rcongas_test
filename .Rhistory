Rcongas:::plot_inference_report(fit) %>%
ggsave(filename = "SM_breast_xeno_10x_inference_report.png",
width = 10,
height = 12)
# Main_text score
main_text_score = "ARI"
supp_mat_scores = c("ARI", "MI", "NMI", "match")
load("test1.RData")
ls()
res = res %>%
tidyr::separate(param_1, into = c('p1', 'Distance'), sep ='=') %>%
tidyr::separate(param_2, into = c('p2', 'Clusters'), sep ='=')
setwd("~/Documents/GitHub/rcongas_test")
# Main_text score
main_text_score = "ARI"
supp_mat_scores = c("ARI", "MI", "NMI", "match")
load("test1.RData")
ls()
setwd("~/Documents/GitHub/rcongas_test/tests")
load("test1.RData")
ls()
res = res %>%
tidyr::separate(param_1, into = c('p1', 'Distance'), sep ='=') %>%
tidyr::separate(param_2, into = c('p2', 'Clusters'), sep ='=')
res
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
filter(variable == 'RI') %>%
ggplot(aes(
x = paste(Distance),
y = paste(Clusters),
fill = value
)) +
geom_tile() +
# scale_fill_distiller(palette = 'Blues', direction = 1) +
facet_wrap(~ variable, scales = 'free')
dev.off()
dev.off()
dev.new()
dev.new()
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
filter(variable == 'RI') %>%
ggplot(aes(
x = paste(Distance),
y = paste(Clusters),
fill = value
)) +
geom_tile() +
# scale_fill_distiller(palette = 'Blues', direction = 1) +
facet_wrap(~ variable, scales = 'free')
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
filter(row_number() <4) %>%
ggplot(aes(
x = paste(Distance),
y = paste(Clusters),
fill = value
)) +
geom_tile() +
# scale_fill_distiller(palette = 'Blues', direction = 1) +
facet_wrap(~ variable, scales = 'free')
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
sample_n(14) %>%
ggplot(aes(
x = paste(Distance),
y = paste(Clusters),
fill = value
)) +
geom_tile() +
# scale_fill_distiller(palette = 'Blues', direction = 1) +
facet_wrap(~ variable, scales = 'free')
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
sample_n(14) %>%
ggplot(aes(
x = paste(Distance),
y = paste(Clusters),
fill = as.numeric(value)
)) +
geom_tile() +
# scale_fill_distiller(palette = 'Blues', direction = 1) +
facet_wrap(~ variable, scales = 'free')
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
sample_n(14) %>%
ggplot(aes(
x = paste(Distance),
y = paste(Clusters),
fill = as.numeric(value)
)) +
geom_tile() +
# scale_fill_distiller(palette = 'Blues', direction = 1) +
facet_wrap(~ variable, scales = 'free')
geom_boxplot() +
facet_wrap(~ variable, scales = 'free_y') +
CNAqc:::my_ggplot_theme() +
labs(x = "Parameter", title = 'Test 2') +
ggsave(filename = "test_2_all.pdf",
width = 15,
height = 10)
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
sample_n(6) %>%
ggplot(aes(
x = paste(Distance),
y = paste(Clusters),
fill = as.numeric(value)
)) +
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
sample_n(6) %>%
ggplot(aes(
x = paste(Distance),
y = paste(Clusters),
fill = as.numeric(value)
)) +
geom_tile() +
# scale_fill_distiller(palette = 'Blues', direction = 1) +
facet_wrap(~ variable, scales = 'free')
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
sample_n(6) %>%
ggplot(aes(
x = paste(Distance),
y = paste(Clusters),
fill = as.numeric(value)
)) +
geom_tile() +
# scale_fill_distiller(palette = 'Blues', direction = 1) +
facet_wrap(~ variable, scales = 'free')
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
sample_n(600) %>%
ggplot(aes(
x = paste(Distance),
y = paste(Clusters),
fill = as.numeric(value)
)) +
geom_tile() +
# scale_fill_distiller(palette = 'Blues', direction = 1) +
facet_wrap(~ variable, scales = 'free')
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
filter(variable %in% supp_mat_scores) %>%
# sample_n(600) %>%
ggplot(aes(
x = paste(Distance),
y = paste(Clusters),
fill = as.numeric(value)
)) +
geom_tile() +
# scale_fill_distiller(palette = 'Blues', direction = 1) +
facet_wrap(~ variable, scales = 'free')
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
filter(variable %in% supp_mat_scores) %>%
# sample_n(600) %>%
ggplot(aes(
x = paste(Distance),
y = paste(Clusters),
fill = as.numeric(value)
)) +
geom_tile() +
scale_fill_distiller(palette = 'Blues', direction = 1) +
facet_wrap(~ variable, scales = 'free')
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
filter(variable %in% supp_mat_scores) %>%
# sample_n(600) %>%
ggplot(aes(
x = paste(Distance),
y = paste(Clusters),
fill = as.numeric(value)
)) +
geom_tile() +
scale_fill_distiller("Score", palette = 'Blues', direction = 1) +
facet_wrap(~ variable, scales = 'free') +
geom_boxplot() +
facet_wrap(~ variable, scales = 'free_y') +
CNAqc:::my_ggplot_theme() +
labs(x = "Parameter", title = 'Test 2') +
ggsave(filename = "test_2_all.pdf",
width = 15,
height = 10)
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
filter(variable %in% supp_mat_scores) %>%
# sample_n(600) %>%
ggplot(aes(
x = paste(Distance),
y = paste(Clusters),
fill = as.numeric(value)
)) +
geom_tile() +
scale_fill_distiller("Score", palette = 'Blues', direction = 1) +
facet_wrap(~ variable, scales = 'free')
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
filter(variable %in% supp_mat_scores) %>%
# sample_n(600) %>%
ggplot(aes(
x = paste(Distance),
y = paste(Clusters),
fill = as.numeric(value)
)) +
geom_tile() +
scale_fill_distiller("Score", palette = 'Blues', direction = 1) +
facet_wrap(~ variable, scales = 'free') +
CNAqc:::my_ggplot_theme() +
labs(title = 'Test 1') +
ggsave(filename = "SM_test1.png",
width = 15,
height = 10)
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
filter(variable %in% c("MI"))
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
filter(variable %in% c("MI")) %>%
as_tibble()
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
filter(variable %in% c("MI")) %>%
as_tibble() %>%
rename(score = variable)
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
filter(variable %in% c("MI")) %>%
as_tibble() %>%
rename(score = variable) %>%
ggplot(aes(
x = paste(Distance),
y =  as.numeric(value),
fill = as.numeric(value)
)) +
geom_boxplot()
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
filter(variable %in% c("MI")) %>%
as_tibble() %>%
rename(score = variable) %>%
ggplot(aes(
x = paste(Distance),
y =  as.numeric(value),
fill = as.numeric(value)
)) +
geom_boxplot() +
facet_wrap(~Clusters)
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
filter(variable %in% c("RI")) %>%
as_tibble() %>%
rename(score = variable) %>%
ggplot(aes(
x = paste(Distance),
y =  as.numeric(value),
fill = as.numeric(value)
)) +
geom_boxplot() +
facet_wrap(~Clusters)
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
filter(variable %in% c("ARI", "RI")) %>%
as_tibble() %>%
rename(score = variable) %>%
ggplot(aes(
x = paste(Distance),
y =  as.numeric(value),
fill = as.numeric(value)
)) +
geom_boxplot() +
facet_wrap(~Clusters)
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
filter(variable %in% c("ARI", "RI")) %>%
as_tibble()
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
filter(variable %in% c("ARI", "RI")) %>%
as_tibble() %>%
rename(score = variable) %>%
ggplot(aes(
x = paste(Distance),
y =  as.numeric(value),
fill = as.numeric(value),
group = variable,
)) +
geom_boxplot() +
facet_wrap(~Clusters)
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
filter(variable %in% c("ARI", "RI")) %>%
as_tibble() %>%
rename(score = variable) %>%
ggplot(aes(
x = paste(Distance),
y =  as.numeric(value),
fill = as.numeric(value),
group = score,
)) +
geom_boxplot() +
facet_wrap(~Clusters)
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
filter(variable %in% c("ARI", "RI")) %>%
as_tibble() %>%
rename(score = variable) %>%
ggplot(aes(
x = paste(Distance),
y =  as.numeric(value),
fill = as.numeric(value),
group = interaction(score, Distance),
)) +
geom_boxplot() +
facet_wrap(~Clusters)
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
filter(variable %in% c("ARI", "RI")) %>%
as_tibble() %>%
rename(score = variable) %>%
ggplot(aes(
x = paste(Distance),
y =  as.numeric(value),
fill = as.numeric(score),
group = interaction(score, Distance),
)) +
geom_boxplot() +
facet_wrap(~Clusters)
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
filter(variable %in% c("ARI", "RI")) %>%
as_tibble() %>%
rename(score = variable) %>%
ggplot(aes(
x = paste(Distance),
y =  as.numeric(value),
fill = (score),
group = interaction(score, Distance),
)) +
geom_boxplot() +
facet_wrap(~Clusters)
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
# filter(variable %in% c("ARI", "RI")) %>%
as_tibble() %>%
rename(score = variable) %>%
ggplot(aes(
x = paste(Distance),
y =  as.numeric(value),
fill = (score),
group = interaction(score, Distance),
)) +
geom_boxplot() +
facet_wrap(~Clusters)
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
# filter(variable %in% c("ARI", "RI")) %>%
as_tibble() %>%
rename(score = variable) %>%
ggplot(aes(
x = paste(Distance),
y =  as.numeric(value),
fill = (score),
group = interaction(score, Distance),
)) +
geom_boxplot() +
facet_wrap(~Clusters, scales = 'free')
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
filter(variable %in% supp_mat_scores) %>%
as_tibble() %>%
rename(score = variable) %>%
ggplot(aes(
x = paste(Distance),
y =  as.numeric(value),
fill = (score),
group = interaction(score, Distance),
)) +
geom_boxplot() +
facet_wrap(~Clusters, scales = 'free')
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
filter(variable %in% supp_mat_scores) %>%
as_tibble() %>%
rename(score = variable) %>%
ggplot(aes(
x = paste(Distance),
y =  as.numeric(value),
fill = (score),
group = interaction(score, Clusters),
)) +
geom_boxplot() +
facet_wrap(~Distance, scales = 'free')
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
filter(variable %in% supp_mat_scores) %>%
as_tibble() %>%
rename(score = variable) %>%
ggplot(aes(
x = paste(Clusters),
y =  as.numeric(value),
fill = (score),
group = interaction(score, Clusters),
)) +
geom_boxplot() +
facet_wrap(~Distance, scales = 'free')
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
filter(variable %in% supp_mat_scores) %>%
# sample_n(600) %>%
ggplot(aes(
x = paste(Distance),
y = paste(Clusters),
fill = as.numeric(value)
)) +
geom_tile() +
scale_fill_distiller("Score", palette = 'Blues', direction = 1) +
facet_wrap(~ variable, scales = 'free') +
CNAqc:::my_ggplot_theme() +
labs(title = 'Test 1') +
ggsave(filename = "SM_test1.png",
width = 15,
height = 10)
ls()
res = res %>%
tidyr::separate(param_1, into = c('p1', 'Distance'), sep ='=', remove = F) %>%
tidyr::separate(param_2, into = c('p2', 'Clusters'), sep ='=', remove = F)
res = res %>%
tidyr::separate(param_1, into = c('p1', 'Distance'), sep ='=', remove = F) %>%
tidyr::separate(param_2, into = c('p2', 'Clusters'), sep ='=', remove = F)
load("test1.RData")
ls()
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
filter(variable %in% supp_mat_scores) %>%
# sample_n(600) %>%
ggplot(aes(
x = paste(Distance),
y = paste(Clusters),
fill = as.numeric(value)
)) +
geom_tile() +
scale_fill_distiller("Score", palette = 'Blues', direction = 1) +
facet_wrap(~ variable, scales = 'free') +
CNAqc:::my_ggplot_theme() +
labs(title = 'Test 1') +
ggsave(filename = "SM_test1.png",
width = 15,
height = 10)
res
res = res %>% rename(Distance = param_1, Clusters = param_2)
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
filter(variable %in% supp_mat_scores) %>%
# sample_n(600) %>%
ggplot(aes(
x = paste(Distance),
y = paste(Clusters),
fill = as.numeric(value)
)) +
geom_tile() +
scale_fill_distiller("Score", palette = 'Blues', direction = 1) +
facet_wrap(~ variable, scales = 'free') +
CNAqc:::my_ggplot_theme() +
labs(title = 'Test 1') +
ggsave(filename = "SM_test1.png",
width = 15,
height = 10)
res = res %>%
tidyr::separate(param_1, into = c('p1', 'Distance'), sep ='=') %>%
tidyr::separate(param_2, into = c('p2', 'Clusters'), sep ='=')
load("test1.RData")
ls()
res = res %>%
tidyr::separate(param_1, into = c('p1', 'Distance'), sep ='=') %>%
tidyr::separate(param_2, into = c('p2', 'Clusters'), sep ='=')
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
filter(variable %in% supp_mat_scores) %>%
# sample_n(600) %>%
ggplot(aes(
x = paste(Distance),
y = paste(Clusters),
fill = as.numeric(value)
)) +
geom_tile() +
scale_fill_distiller("Score", palette = 'Blues', direction = 1) +
facet_wrap(~ variable, scales = 'free') +
CNAqc:::my_ggplot_theme() +
labs(title = 'Test 1') +
ggsave(filename = "SM_test1.png",
width = 15,
height = 10)
res %>%
reshape2::melt(id = c("Distance", "Clusters")) %>%
filter(variable %in% supp_mat_scores) %>%
# sample_n(600) %>%
ggplot(aes(
x = Distance,
y = Clusters,
fill = as.numeric(value)
)) +
geom_tile() +
scale_fill_distiller("Score", palette = 'Blues', direction = 1) +
facet_wrap(~ variable, scales = 'free') +
CNAqc:::my_ggplot_theme() +
labs(title = 'Test 1') +
ggsave(filename = "SM_test1.png",
width = 15,
height = 10)
